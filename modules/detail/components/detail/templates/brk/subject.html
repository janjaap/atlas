<div>
    <div class="c-detail__block qa-kadastraal-subject">
        <dp-glossary-header
            heading="{{vm.apiData.results._display}}"
            definition="SUBJECT"
            meta-data="vm.apiData">
        </dp-glossary-header>

        <dp-panel is-panel-visible="!vm.user.scopes.includes('BRK/RS')" type="warning" can-close="true" class-name="c-disabled-message">
            Medewerkers/ketenpartners van Gemeente Amsterdam kunnen inloggen om kadastrale subjecten te bekijken. Om ook zakelijke rechten van natuurlijke personen te bekijken, moet je als medewerker bovendien speciale bevoegdheden hebben.
            Zie <dp-link-to-page item="item9" class-name="c-link--light"></dp-link-to-page>.
        </dp-panel>

        <div ng-if="vm.apiData">
            <!-- niet natuurlijke persoon -->
            <dl class="c-key-value-list qa-niet-natuurlijk-persoon" ng-if="vm.apiData.results.is_natuurlijk_persoon === false">
                <dt>Statutaire zetel</dt>
                <dd>{{ vm.apiData.results.statutaire_zetel }}</dd>
                <dt>Rechtsvorm</dt>
                <dd>{{ vm.apiData.results.rechtsvorm.omschrijving }}</dd>
                <dt>RSIN</dt>
                <dd>{{ vm.apiData.results.rsin }}</dd>
                <dt>KvK nummer</dt>
                <dd>{{ vm.apiData.results.kvknummer }}</dd>
                <dt>Woonadres</dt>
                <dd>
                    {{ vm.apiData.results.woonadres.openbareruimte_naam }} {{ vm.apiData.results.woonadres.huisnummer }}{{ vm.apiData.results.woonadres.huisletter }}<span ng-if="vm.apiData.results.woonadres.toevoeging">-{{ vm.apiData.results.woonadres.toevoeging }}</span> {{ vm.apiData.results.woonadres.postcode }} {{ vm.apiData.results.woonadres.woonplaats }}
                </dd>

                <dt>Woonadres buitenland</dt>
                <dd>
                  {{ vm.apiData.results.woonadres.buitenland_adres }} {{ vm.apiData.results.woonadres.buitenland_woonplaats }} {{ vm.apiData.results.woonadres.buitenland_naam }} {{ vm.apiData.results.woonadres.buitenland_land.omschrijving }}
                </dd>
                <dt>Postadres</dt>
                <dd>
                  {{ vm.apiData.results.postadres.openbareruimte_naam }} {{ vm.apiData.results.postadres.huisnummer }}{{ vm.apiData.results.postadres.huisletter }}<span ng-if="vm.apiData.results.postadres.toevoeging">-{{ vm.apiData.results.postadres.toevoeging }}</span> {{ vm.apiData.results.postadres.postcode }} {{ vm.apiData.results.postadres.woonplaats }}
                </dd>
                <dt>Postadres buitenland</dt>
                <dd>
                  {{ vm.apiData.results.postadres.buitenland_adres }} {{ vm.apiData.results.postadres.buitenland_woonplaats }} {{ vm.apiData.results.postadres.buitenland_naam }} {{ vm.apiData.results.postadres.buitenland_land.omschrijving }}
                </dd>
                <dt>Postadres postbus</dt>
                <dd>
                  <span ng-if="vm.apiData.results.postadres.postbus_nummer">Postbus {{ vm.apiData.results.postadres.postbus_nummer }}</span> {{ vm.apiData.results.postadres.postbus_postcode }} {{ vm.apiData.results.postadres.postbus_woonplaats }}
                </dd>
            </dl>

            <!-- natuurlijke persoon -->
            <dl class="c-key-value-list qa-natuurlijk-persoon" ng-if="vm.apiData.results.is_natuurlijk_persoon === true">
                <dt>Voornamen</dt>
                <dd>{{ vm.apiData.results.voornamen }}</dd>
                <dt>Voorvoegsels</dt>
                <dd>{{ vm.apiData.results.voorvoegsels }}</dd>
                <dt>Geslachtsnaam</dt>
                <dd>{{ vm.apiData.results.naam }}</dd>
                <dt>Geslacht</dt>
                <dd>{{ vm.apiData.results.geslacht.omschrijving }}</dd>
                <dt>Geboortedatum</dt>
                <dd>{{ vm.apiData.results.geboortedatum | date:'dd-MM-yyyy'}}</dd>
                <dt>Geboorteplaats</dt>
                <dd>{{ vm.apiData.results.geboorteplaats }}</dd>
                <dt>Geboorteland</dt>
                <dd>{{ vm.apiData.results.geboorteland.omschrijving }}</dd>
                <dt>Datum van overlijden</dt>
                <dd>{{ vm.apiData.results.overlijdensdatum | date:'dd-MM-yyyy'}}</dd>
                <dt>Woonadres</dt>
                <dd>
                    {{ vm.apiData.results.woonadres.openbareruimte_naam }} {{ vm.apiData.results.woonadres.huisnummer }}{{ vm.apiData.results.woonadres.huisletter }}<span ng-if="vm.apiData.results.woonadres.toevoeging">-{{ vm.apiData.results.woonadres.toevoeging }}</span> {{ vm.apiData.results.woonadres.postcode }} {{ vm.apiData.results.woonadres.woonplaats }}
                </dd>
                <dt>Woonadres buitenland</dt>
                <dd>
                    {{ vm.apiData.results.woonadres.buitenland_adres }} {{ vm.apiData.results.woonadres.buitenland_woonplaats }} {{ vm.apiData.results.woonadres.buitenland_naam }} {{ vm.apiData.results.woonadres.buitenland_land.omschrijving }}
                </dd>
                <dt>Postadres</dt>
                <dd>
                    {{ vm.apiData.results.postadres.openbareruimte_naam }} {{ vm.apiData.results.postadres.huisnummer }}{{ vm.apiData.results.postadres.huisletter }}<span ng-if="vm.apiData.results.postadres.toevoeging">-{{ vm.apiData.results.postadres.toevoeging }}</span> {{ vm.apiData.results.postadres.postcode }} {{ vm.apiData.results.postadres.woonplaats }}
                </dd>
                <dt>Postadres buitenland</dt>
                <dd>
                    {{ vm.apiData.results.postadres.buitenland_adres }} {{ vm.apiData.results.postadres.buitenland_woonplaats }} {{ vm.apiData.results.postadres.buitenland_naam }} {{ vm.apiData.results.postadres.buitenland_land.omschrijving }}
                </dd>
                <dt>Postadres postbus</dt>
                <dd>
                    <span ng-if="vm.apiData.results.postadres.postbus_nummer">Postbus {{ vm.apiData.results.postadres.postbus_nummer }}</span> {{ vm.apiData.results.postadres.postbus_postcode }} {{ vm.apiData.results.postadres.postbus_woonplaats }}
                </dd>
            </dl>
        </div>
    </div>

    <div ng-if="vm.apiData"
         class="c-detail__block qa-kadastraal-subject-recht">
        <dp-glossary-header definition="ZAKELIJK_RECHT" use-plural="true"></dp-glossary-header>

        <dp-panel
            is-panel-visible="vm.apiData.results.is_natuurlijk_persoon && !vm.user.scopes.includes('BRK/RSN')"
            type="warning"
            can-close="true"
            class-name="c-detail-kadastraal-subject__warning">
            Medewerkers met speciale bevoegdheden kunnen alle gegevens zien (ook zakelijke rechten).
            Zie <dp-link-to-page item="item9" class-name="c-link--light"></dp-link-to-page>.
        </dp-panel>

        <dp-api-call ng-if="vm.apiData.results.rechten.count" endpoint="{{vm.apiData.results.rechten.href}}" partial="brk/subject-rechten" user="vm.user"></dp-api-call>
    </div>
</div>
